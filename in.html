<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba de Intereses</title>
    <!-- Agregar los enlaces a Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>

    <nav class="navbar navbar-expand-md bg-dark navbar-dark">
        <a class="navbar-brand text-center" href="#" onclick="regresarAlInicio()">Quizz App - Vocational Testing</a>
    </nav>

    <div class="container mt-5">
        <!-- Vista inicial para ingresar el nombre -->
        <div id="inicio">
            <div class="form-group">
                <label for="nombre">Ingresa tu nombre:</label>
                <input type="text" class="form-control" id="nombre">
            </div>
            <button class="btn btn-primary" onclick="mostrarPruebas()">Comenzar</button>
        </div>

        <!-- Vista para seleccionar una prueba -->
        <div id="pruebas" style="display: none;">
            <h3>Selecciona una prueba:</h3>
            <div class="card mb-2">
                <div class="card-body">
                    <h5 class="card-title">Prueba Vocacional</h5>
                    <p class="card-text">Esta es una prueba que consta de 98 preguntas, sin límite de tiempo...</p>
                    <button class="btn btn-primary" onclick="comenzarPrueba(0)">Comenzar</button>
                </div>
            </div>
            <div class="card mb-2">
                <div class="card-body">
                    <h5 class="card-title">Prueba 2</h5>
                    <p class="card-text">Descripción de la Prueba 2</p>
                    <button class="btn btn-primary" disabled onclick="comenzarPrueba(1)">Comenzar</button>
                </div>
            </div>
            <!-- Agregar más pruebas aquí... -->
        </div>

        <!-- Vista de la prueba -->
        <div id="prueba" style="display: none;">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title" id="enunciado"></h5>
                    <div class="btn-group-toggle" data-toggle="buttons">
                        <label class="btn btn-success">
                            <input type="radio" name="respuesta" value="1" autocomplete="off"> Si
                        </label>
                        <label class="btn btn-danger">
                            <input type="radio" name="respuesta" value="0" autocomplete="off"> No
                        </label>
                    </div>
                    <button class="btn btn-secondary" onclick="anteriorPregunta()" id="btnAnterior"
                        disabled>Anterior</button>
                    <button class="btn btn-primary" onclick="siguientePregunta()" id="btnSiguiente">Siguiente</button>
                </div>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                <label class="form-check-label" for="flexRadioDefault1">
                  Default radio
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                <label class="form-check-label" for="flexRadioDefault1">
                  Default radio
                </label>
              </div>
        </div>

        

        <!-- Vista de resultados -->
        <div id="resultados" style="display: none;">
            <h3>Resultados:</h3>
            <p>Nombre: <span id="nombreResultado"></span></p>
            <p>Área de interés con mayor puntaje: <span id="areaInteresMayor"></span></p>
            <p>Área de interés con mayor puntaje y aptitudes: <span id="areaInteresAptitudes"></span></p>
            <p>Texto específico en función del área de interés y aptitudes: <span id="textoEspecifico"></span></p>
            <button class="btn btn-primary" onclick="regresar()">Regresar</button>
        </div>
    </div>

    <!-- Agregar el enlace a Bootstrap y el script de JavaScript -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // Arreglo de pruebas
        const pruebas = [
            {
                preguntas: [
                    {
                        id: 1,
                        enunciado: "¿Aceptarías trabajar escribiendo artículos en la sección económica de un diario?",
                        areaInteres: "Administrativo",
                        aptitudes: true
                    },
                    {
                        id: 4,
                        enunciado: "¿Te gustaría conocer la diferencia entre macroeconomía y microeconomía?",
                        areaInteres: "Administrativo",
                        aptitudes: false
                    },
                    {
                        id: 3,
                        enunciado: "¿Te interesan los temas relacionados al pasado y a la evolución del hombre?",
                        areaInteres: "Humanidades",
                        aptitudes: false
                    },
                    {
                        id: 2,
                        enunciado: "¿Pasarías varias horas leyendo algún libro de tu interés?",
                        areaInteres: "Humanidades",
                        aptitudes: false
                    },
                    // Agregar más preguntas para la Prueba 1 aquí...
                ]
            },
            // {
            //     preguntas: [
            //         {
            //             id: 1,
            //             enunciado: "Pregunta 1",
            //             areaInteres: "Área de interés 3",
            //             aptitudes: true
            //         },
            //         {
            //             id: 2,
            //             enunciado: "Pregunta 2",
            //             areaInteres: "Área de interés 4",
            //             aptitudes: false
            //         },
            //         // Agregar más preguntas para la Prueba 2 aquí...
            //     ]
            // },
            // Agregar más pruebas aquí...
        ];

        let nombreUsuario;
        let pruebaActual;
        let preguntaActual;
        let respuestas = [];

        function regresarAlInicio() {
            location.reload(); // Recargar la página para volver al inicio
        }

        function mostrarPruebas() {
            nombreUsuario = document.getElementById("nombre").value;
            if (nombreUsuario.trim() !== "") {
                document.getElementById("inicio").style.display = "none";
                document.getElementById("pruebas").style.display = "block";
            } else {
                alert("Ingresa tu nombre antes de seleccionar una prueba.");
            }
        }

        function comenzarPrueba(pruebaIndex) {
            pruebaActual = pruebaIndex;
            preguntaActual = 0;
            respuestas = [];
            mostrarPregunta();
            document.getElementById("pruebas").style.display = "none";
            document.getElementById("prueba").style.display = "block";
        }

        function mostrarPregunta() {
            pruebas.sort((a, b) => a.id - b.id)
            const pregunta = pruebas[pruebaActual].preguntas[preguntaActual];
            document.getElementById("enunciado").textContent = pregunta.enunciado;
            document.getElementById("btnAnterior").disabled = preguntaActual === 0;
            document.getElementById("btnSiguiente").textContent = preguntaActual === pruebas[pruebaActual].preguntas.length - 1 ? "Finalizar" : "Siguiente";

            // Deseleccionar respuestas anteriores
            // const siBtn = document.querySelector(".btn-success");
            // const noBtn = document.querySelector(".btn-danger");
            // siBtn.classList.remove("active");
            // noBtn.classList.remove("active");

            // Verificar si ya se ha respondido la pregunta
            // const respuesta = respuestas[pregunta.id - 1];
            // if (respuesta !== undefined) {
            //     if (respuesta === 1) {
            //         siBtn.classList.add("active");
            //     } else {
            //         noBtn.classList.add("active");
            //     }
            // }
        }

        function responder(respuesta) {
            const siBtn = document.querySelector(".btn-success");
            const noBtn = document.querySelector(".btn-danger");
            siBtn.classList.remove("active");
            noBtn.classList.remove("active");

            if (respuesta === 1) {
                siBtn.classList.add("active");
            } else {
                noBtn.classList.add("active");
            }
            respuestas[pregunta.id - 1] = respuesta;

            // Habilitar o deshabilitar botones según si se ha respondido la pregunta
            const btnSiguiente = document.getElementById("btnSiguiente");
            const todasRespondidas = respuestas.every(respuesta => respuesta !== undefined);
            btnSiguiente.disabled = !todasRespondidas;
        }

        function anteriorPregunta() {
            preguntaActual--;
            mostrarPregunta();
        }

        function siguientePregunta() {
            preguntaActual++;
            if (preguntaActual === pruebas[pruebaActual].preguntas.length) {
                mostrarResultados();
                document.getElementById("prueba").style.display = "none";
                document.getElementById("resultados").style.display = "block";
            } else {
                mostrarPregunta();
            }
        }

        function mostrarResultados() {
            document.getElementById("nombreResultado").textContent = nombreUsuario;

            // Calcular el área de interés con mayor puntaje
            let areaInteresMayor = "";
            let maxPuntaje = 0;
            for (const pregunta of pruebas[pruebaActual].preguntas) {
                const respuesta = respuestas[pregunta.id - 1];
                if (respuesta === 1) {
                    maxPuntaje++;
                    if (pregunta.areaInteres !== areaInteresMayor) {
                        areaInteresMayor = pregunta.areaInteres;
                    }
                }
            }
            document.getElementById("areaInteresMayor").textContent = areaInteresMayor;

            // Calcular el área de interés con mayor puntaje y aptitudes
            let areaInteresAptitudes = "";
            for (const pregunta of pruebas[pruebaActual].preguntas) {
                const respuesta = respuestas[pregunta.id - 1];
                if (respuesta === 1 && pregunta.aptitudes && pregunta.areaInteres !== areaInteresAptitudes) {
                    areaInteresAptitudes = pregunta.areaInteres;
                    break;
                }
            }
            document.getElementById("areaInteresAptitudes").textContent = areaInteresAptitudes;

            // Agregar un texto específico según el área de interés con mayor puntaje y aptitudes
            let textoEspecifico = "";
            switch (areaInteresAptitudes) {
                case "Administrativo":
                    textoEspecifico = "Texto específico para el área de interés 1 y aptitudes.";
                    break;
                case "Humanidades":
                    textoEspecifico = "Texto específico para el área de interés 2 y aptitudes.";
                    break;
                // Agregar más casos según las áreas de interés...
                default:
                    textoEspecifico = "No se encontró texto específico para esta área de interés y aptitudes.";
            }
            document.getElementById("textoEspecifico").textContent = textoEspecifico;
        }

        function regresar() {
            document.getElementById("nombre").value = "";
            document.getElementById("resultados").style.display = "none";
            document.getElementById("pruebas").style.display = "block";
        }
    </script>
</body>

</html>